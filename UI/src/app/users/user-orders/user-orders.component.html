<section class="pending">
    <mat-card>
        <mat-card-content>
            <h2>Pending Returns ({{ pendingReturns.length }})</h2>
        </mat-card-content>
    </mat-card>

    @if (pendingReturns.length > 0) {
    <!-- <page-table [columns]="columnsForPendingReturns" [dataSource]="pendingReturns">
    </page-table> -->
    <table mat-table [dataSource]="pendingReturns" class="mat-elevation-z8">

        <ng-container matColumnDef="orderId">
            <th mat-header-cell *matHeaderCellDef> Order Id </th>
            <td mat-cell *matCellDef="let element"> {{element.id}} </td>
        </ng-container>
        
        <ng-container matColumnDef="bookId">
            <th mat-header-cell *matHeaderCellDef> bookId </th>
            <td mat-cell *matCellDef="let element"> {{element.bookId}} </td>
        </ng-container>
    
        <ng-container matColumnDef="bookTitle">
            <th mat-header-cell *matHeaderCellDef> bookTitle </th>
            <td mat-cell *matCellDef="let element"> {{element.bookTitle}} </td>
        </ng-container>
    
        <ng-container matColumnDef="orderDate">
            <th mat-header-cell *matHeaderCellDef> orderDate </th>
            <td mat-cell *matCellDef="let element"> {{element.orderDate | date:"dd-MM-YYY"}} </td>
        </ng-container>
    
        <ng-container matColumnDef="fineToPay">
            <th mat-header-cell *matHeaderCellDef> fineToPay </th>
            <td mat-cell *matCellDef="let element"> {{element.fineToPay}} </td>
        </ng-container>
    
        <tr mat-header-row *matHeaderRowDef="columnsForPendingReturns"></tr>
        <tr mat-row *matRowDef="let row; columns: columnsForPendingReturns;"></tr>
    </table>
    }
    @else {
    <mat-card>
        <mat-card-content>
            <h2>No Orders Done Yet!</h2>
        </mat-card-content>
    </mat-card>
    }


</section>

<section class="returned">
    <mat-card>
        <mat-card-content>
            <h2>Returned Orders ({{ completedReturns.length }})</h2>
        </mat-card-content>
    </mat-card>

    @if (completedReturns.length > 0) {
        <table mat-table [dataSource]="completedReturns" class="mat-elevation-z8">

            <ng-container matColumnDef="orderId">
                <th mat-header-cell *matHeaderCellDef> Order Id </th>
                <td mat-cell *matCellDef="let element"> {{element.id}} </td>
            </ng-container>
            
            <ng-container matColumnDef="bookId">
                <th mat-header-cell *matHeaderCellDef> bookId </th>
                <td mat-cell *matCellDef="let element"> {{element.bookId}} </td>
            </ng-container>
        
            <ng-container matColumnDef="bookTitle">
                <th mat-header-cell *matHeaderCellDef> bookTitle </th>
                <td mat-cell *matCellDef="let element"> {{element.bookTitle}} </td>
            </ng-container>
        
            <ng-container matColumnDef="orderDate">
                <th mat-header-cell *matHeaderCellDef> orderDate </th>
                <td mat-cell *matCellDef="let element"> {{element.orderDate | date:"dd-MM-YYY"}} </td>
            </ng-container>
            <ng-container matColumnDef="returnedDate">
                <th mat-header-cell *matHeaderCellDef> returnedDate </th>
                <td mat-cell *matCellDef="let element"> {{element.returnedDate | date:"dd-MM-YYY"}} </td>
            </ng-container>
        
            <ng-container matColumnDef="finePaid">
                <th mat-header-cell *matHeaderCellDef> finePaid </th>
                <td mat-cell *matCellDef="let element"> {{getFineToPay(element)}} </td>
            </ng-container>
        
            <tr mat-header-row *matHeaderRowDef="columnsForCompletedReturns"></tr>
            <tr mat-row *matRowDef="let row; columns: columnsForCompletedReturns;"></tr>
        </table>
    }
    @else {
    <mat-card>
        <mat-card-content>
            <h2>No Orders Done Yet!</h2>
        </mat-card-content>
    </mat-card>
    }


</section>